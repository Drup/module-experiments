\begin{mathpar}
  \inferrule
  { \Smodulety{\ix_i}{\iM} \in \E }
  { \lookup{\E}{\ix_i} = \iM }
  \and
  \inferrule
  { \Smoduletype{\iX_i}{\iM} \in \E }
  { \lookup{\E}{\iX_i} = \iM }
  \and
  \inferrule
  { \lookup{\E}{\ip} = \Ssig{\iS_1; \Smodulety{\ix}{\iM}; \iS_2} }
  { \lookup{\E}{\ip.\ix} = \substs{n_i}{\ip.n}{\bv{\iS_1}}{\iM} }
  \and
  \inferrule
  { \lookup{\E}{\ip} = \Ssig{\iS_1; \Smoduletype{\iX}{\iM}; \iS_2} }
  { \lookup{\E}{\ip.\iX} = \substs{n_i}{\ip.n}{\bv{\iS_1}}{\iM} }
  \and
  \inferrule
  { \lookup{\E}{\ip_f} = \Sfunctor{\ix}{\iM_a}{\iM_r} \\
    \lookup{\E}{\ip_a} = \iM_a }
  { \lookup{\E}{\Sapp{\ip_f}{\ip_a}} =
    \Osubst{\ix = \Stransp{\ip_a}{\iM_a}}{\iM_r} }
  \and
  \inferrule
  { \lookup{\E}{\ip_f} = \Sfunctor{\ix}{\iM_a}{\iM_r} \\
    \lookup{\E}{\ip_a} = \iM_a }
  { \lookup{\E}{\Sapp{\ip_f}{\ip_a}} =
    \Osubst{\ix = \Stransp{\ip_a}{\iM_a}}{\iM_r} }
  \and
  \inferrule
  { \lookup{\E}{\ip} = \iM \\
    \submod{\E}{\iM}{\iM'}{\iM_r}
  }
  { \lookup{\E}{\Stransp{\ip}{\iM'}} = \iM_r }
\end{mathpar}
%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../main"
%%% End:
